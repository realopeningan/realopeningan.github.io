[디바이스 프로토콜 정의](../README.md) / [Modules](../modules.md) / [직방 디바이스 쉐도우](../modules/__________.md) / ZThingBaseShadow

# Class: ZThingBaseShadow

[직방 디바이스 쉐도우](../modules/__________.md).ZThingBaseShadow

ZThingShadow는 직방 IoT Shadow 포멧입니다.

어떤 디바이스든 직방에서 정의한 포멧으로 Shadow 업데이트 하기 위한 정의입니다.

ZThingShadow는 아래 JSON 구조를 가지고 있습니다.

```typescript
state: {
 reported: {
   [zthingVersion]: {
     tuya: { [key: string]: any },
     tuyaStatusesLast: { code: string, value: any, createdAt: number, bridgedAt: number }[],
   }
 }
}
```

state.reported.[zthingVersion].tuya 에는 해당 디바이스의 상태값이 존재합니다.

state.reported.[zthingVersion].tuyaStatusesLast 에는 해당 디바이스가 마지막으로 전달한 상태값이 존재합니다.

---

이 페이지는 state.reported.[zthingVersion].tuya에 설정되는 값중 모든 ZThingShadow에서 가지는 공통의 key값을 설명합니다.

자세한 내용은 properties를 참고하세요.

* is_connected : 연결유무 상태를 나타냅니다.
* battery_percentage : 베터리 잔량 상태를 나타냅니다.

example)
 ```typescript
{
  "state": {
    "reported": {
      "v220110": {
        "tuya": {
          "is_connected": true,
          "battery_percentage": 100,
          "switch1_value": "single_click"
        },
        "tuyaStatusesLast": [
          {
            "code": "switch1_value",
            "value": "single_click",
            "createdAt": 1648631852772,
            "bridgedAt": 1648631852942
          }
        ]
      }
    }
  }
}
```

## Hierarchy

- **`ZThingBaseShadow`**

  ↳ [`ZThingShadowStatusContact`](_________.ZThingShadowStatusContact.md)

  ↳ [`ZThingShadowStatusMotion`](_________.ZThingShadowStatusMotion.md)

  ↳ [`ZThingShadowStatusTempHumid`](_________.ZThingShadowStatusTempHumid.md)

  ↳ [`ZThingShadowStatusSiren`](_________.ZThingShadowStatusSiren.md)

  ↳ [`ZThingShadowStatusSwitch`](_________.ZThingShadowStatusSwitch.md)

## Properties

### \_is\_connected

• `Private` **\_is\_connected**: `undefined` \| { `value`: `any` ; `t`: `number`  } = `undefined`

* 연결유무 상태를 나타냅니다.  아래의 값이 전달됩니다. (biz 메시지의 online/offline에 의해 설정됩니다.)
** true: 연결됨
** false: 연결되지 않음

#### Defined in

[zthing-shadow/zthing-base-shadow.ts:106](https://github.com/zigbang/iot/blob/43523cfa/packages/ziot-bridge/tuya/zthing-message-converter/lib/messages/zthing-shadow/zthing-base-shadow.ts#L106)

___

### \_battery\_percentage

• `Private` **\_battery\_percentage**: `undefined` \| { `value`: `any` ; `t`: `number`  } = `undefined`

* 베터리 잔량을 나타냅니다.

#### Defined in

[zthing-shadow/zthing-base-shadow.ts:111](https://github.com/zigbang/iot/blob/43523cfa/packages/ziot-bridge/tuya/zthing-message-converter/lib/messages/zthing-shadow/zthing-base-shadow.ts#L111)
